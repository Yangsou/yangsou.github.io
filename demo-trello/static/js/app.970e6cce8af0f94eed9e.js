webpackJsonp([0],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},a,!1,function(t){n("rT8F")},null,null).exports,l=n("/ocq"),o={name:"Task",props:{task:{},columnID:String,handleClickEdit:Function,handleDeleteTask:Function},data:function(){return{}},mounted:function(){},methods:{handleDragTask:function(t){var e=this.task;t.dataTransfer.setData("from",this.columnID),t.dataTransfer.setData("taskID",e.id)}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task",attrs:{draggable:"true"},on:{dragstart:t.handleDragTask}},[n("h3",[t._v(t._s(t.task.title))]),t._v(" "),n("p",[t._v(t._s(t.task.description))]),t._v(" "),n("button",{staticClass:"btn btn-border btn-create",on:{click:function(e){t.handleClickEdit(t.task.id,t.columnID)}}},[t._v("\n    click\n  ")]),t._v(" "),n("button",{staticClass:"btn btn-border btn-delete-task",on:{click:function(e){t.handleDeleteTask(t.task.id,t.columnID)}}},[t._v("\n    click\n  ")])])},staticRenderFns:[]};var u={components:{Task:n("VU/8")(o,r,!1,function(t){n("rZo4")},"data-v-441a5e22",null).exports},name:"Column",props:{stages:{},column:{},handleAddTask:Function,handleDragTaskEnd:Function,handleClickEdit:Function,handleDeleteColumn:Function,handleDeleteTask:Function},data:function(){return{newTitle:"",newDescription:"",showAddTask:!1}},mounted:function(){},methods:{addTask:function(){var t={id:Date.now().toString(),columnID:this.column.id,title:this.newTitle,description:this.newDescription};""!==t.title.trim()&&""!==t.description.trim()&&this.handleAddTask(t,this.handleAddTaskSuccess)},handleAddTaskSuccess:function(){this.newTitle="",this.newDescription=""},toggleAddTask:function(){var t=this.showAddTask;this.showAddTask=!t},allowDrop:function(t){t.preventDefault()},drop:function(t){var e={from:t.dataTransfer.getData("from"),to:this.column.id,taskID:t.dataTransfer.getData("taskID")};if(e.from===e.to)return null;this.handleDragTaskEnd(e)}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative full-height",on:{drop:t.drop,dragover:t.allowDrop}},[n("div",{staticClass:"group-btn"},[n("button",{staticClass:"btn btn-toggle-add-task btn-border",class:{show:t.showAddTask},on:{click:t.toggleAddTask}},[t._v("\n      Add task\n    ")]),t._v(" "),n("button",{staticClass:"btn btn-toggle-add-task btn-border btn-delete-column",on:{click:function(e){t.handleDeleteColumn(t.column.id)}}},[t._v("\n      delete\n    ")])]),t._v(" "),n("div",{staticClass:"full-height"},[n("h2",{staticClass:"column_title",class:t.column.title.toLowerCase()},[t._v("\n      "+t._s(t.column.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"column_content"},[n("div",{staticClass:"task column_create",class:{show:t.showAddTask}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newTitle,expression:"newTitle"}],staticClass:"column_create_title",attrs:{type:"text",placeholder:"enter title"},domProps:{value:t.newTitle},on:{input:function(e){e.target.composing||(t.newTitle=e.target.value)}}}),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newDescription,expression:"newDescription"}],staticClass:"column_create_description",attrs:{placeholder:"enter description"},domProps:{value:t.newDescription},on:{input:function(e){e.target.composing||(t.newDescription=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn column_create_btn",on:{click:t.addTask}},[t._v("\n          Add\n        ")])]),t._v(" "),t._l(t.column.tasks,function(e){return n("div",{key:e.id},[n("task",{attrs:{task:e,columnID:t.column.id,handleClickEdit:t.handleClickEdit,handleDeleteTask:t.handleDeleteTask}})],1)})],2)])])},staticRenderFns:[]};var d=n("VU/8")(u,c,!1,function(t){n("m+jF")},null,null).exports,m={name:"FormTask",props:{task:{},handleSubmit:Function},data:function(){return{showAddTask:!0,newTitle:this.task.title,newDescription:this.task.description}},mounted:function(){},methods:{}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task column_create",class:{show:t.showAddTask}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newTitle,expression:"newTitle"}],staticClass:"column_create_title",attrs:{type:"text",placeholder:"enter title"},domProps:{value:t.newTitle},on:{input:function(e){e.target.composing||(t.newTitle=e.target.value)}}}),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newDescription,expression:"newDescription"}],staticClass:"column_create_description",attrs:{placeholder:"enter description"},domProps:{value:t.newDescription},on:{input:function(e){e.target.composing||(t.newDescription=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn column_create_btn",on:{click:function(e){t.handleSubmit(t.task.columnID,t.task.id,t.newTitle,t.newDescription)}}},[t._v("\n    Save\n  ")])])},staticRenderFns:[]},h={components:{Column:d,FormTask:n("VU/8")(m,p,!1,null,null,null).exports},name:"HelloWorld",data:function(){return{columns:[{id:"1",title:"Doing",tasks:[{id:"11",title:"building layout",description:"Curabitur aliquet quam id dui posuere blandit. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus."},{id:"12",title:"task default",description:"Curabitur aliquet quam id dui posuere blandit. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus."}]},{id:"2",title:"Done",tasks:[{id:"21",title:"schedule project",description:"Curabitur aliquet quam id dui posuere blandit. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus."},{id:"22",title:"task default",description:"Curabitur aliquet quam id dui posuere blandit. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus."}]},{id:"3",title:"Bug",tasks:[{id:"31",title:"schedule project",description:"Curabitur aliquet quam id dui posuere blandit. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus."},{id:"32",title:"task default",description:"Curabitur aliquet quam id dui posuere blandit. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus."}]}],newColumnTitle:"",showForm:!1,taskEdit:{}}},methods:{handleAddColumn:function(){var t=this.newColumnTitle,e={id:Date.now().toString(),title:t,tasks:[]};""!==t.trim()&&(this.columns.push(e),this.newColumnTitle="",console.log("title",t))},handleDeleteColumn:function(t){this.columns=this.columns.filter(function(e){return e.id!==t})},handleDeleteTask:function(t,e){console.log(t,e);var n=this.columns.filter(function(t){return t.id===e})[0],i=n.tasks.filter(function(e){return e.id!==t});n.tasks=i},handleAddTask:function(t,e){var n=t.columnID,i=this.columns.filter(function(t){return t.id===n})[0];delete t.columnID,i.tasks.push(t),e()},handleDragTaskEnd:function(t){var e=this.columns,n=e.filter(function(e){return e.id===t.from})[0],i=n.tasks.filter(function(e){return e.id===t.taskID})[0],a=n.tasks.filter(function(e){return e.id!==t.taskID});n.tasks=a,e.filter(function(e){return e.id===t.to})[0].tasks.push(i)},handleClickEdit:function(t,e){var n=this.columns.filter(function(t){return t.id===e})[0].tasks.filter(function(e){return e.id===t})[0];console.log(n),n.columnID=e,this.showForm=!0,this.taskEdit=n},handleSubmit:function(t,e,n,i){console.log("handleSubmit",n),console.log("handleSubmit",i);var a={id:e,title:n,description:i},s=this.columns.filter(function(e){return e.id===t})[0],l=s.tasks;(l=l.filter(function(t){return t.id!==e})).push(a),s.tasks=l,console.log("columnEditted",l),this.showForm=!1}}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"wrap"},[t._l(t.columns,function(e){return n("div",{key:e.id,staticClass:"column"},[n("Column",{attrs:{column:e,handleAddTask:t.handleAddTask,handleDragTaskEnd:t.handleDragTaskEnd,handleClickEdit:t.handleClickEdit,handleDeleteColumn:t.handleDeleteColumn,handleDeleteTask:t.handleDeleteTask}})],1)}),t._v(" "),n("div",{staticClass:"column"},[n("div",{staticClass:"relative full-height"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newColumnTitle,expression:"newColumnTitle"}],staticClass:"column_title column_title-create",attrs:{type:"text",placeholder:"Add new column"},domProps:{value:t.newColumnTitle},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleAddColumn(e):null},input:function(e){e.target.composing||(t.newColumnTitle=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn btn-border btn-add-column",on:{click:t.handleAddColumn}},[t._v("\n          add column\n        ")])])])],2),t._v(" "),t.showForm?n("div",{staticClass:"dialog"},[n("div",{staticClass:"dialog_container"},[n("FormTask",{attrs:{task:t.taskEdit,handleSubmit:t.handleSubmit}})],1)]):t._e()])},staticRenderFns:[]};var v=n("VU/8")(h,k,!1,function(t){n("YnXF")},"data-v-c90fd4c0",null).exports;i.a.use(l.a);var f=new l.a({routes:[{path:"/",name:"HelloWorld",component:v}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:f,components:{App:s},template:"<App/>"})},YnXF:function(t,e){},"m+jF":function(t,e){},rT8F:function(t,e){},rZo4:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.970e6cce8af0f94eed9e.js.map